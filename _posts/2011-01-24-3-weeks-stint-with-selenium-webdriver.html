---
layout: post
title: 3 weeks stint with Selenium WebDriver 2.0
date: '2011-01-24T18:34:00.000-08:00'
author: Eing Ong
categories: Testing
tags: webdriver selenium
modified_time: '2011-01-24T18:34:30.413-08:00'
blogger_id: tag:blogger.com,1999:blog-8918612625404720119.post-8314067907201241139
blogger_orig_url: http://eingong.blogspot.com/2011/01/3-weeks-stint-with-selenium-webdriver.html
---

Here are some learnings from working with Webdriver for past 3 weeks automating a website.<br /><br /><u><b>1. Initial page loading</b></u><br />Typically the first page takes a longer time to load depending on how your site is designed.<br />What we want to solve for<br />- variable delays in different environments<br />- detects that page is loaded in a minimal time delay<br />- overall timeout if page doesn't get loaded<br /><br />The code :<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // this dictates the overall maximum timeout if page doesn't load.<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;int count = WAIT_LOOPCOUNT;<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; // this detects if page gets loaded<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; while ( (count &gt; 0) &amp;&amp; driver.exists(elementLoadingPage) )<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;{<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;count--;<br />&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; // MAXWAIT - 3 seconds is rather optimal<br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;Thread.sleep(MAXWAIT);&nbsp;&nbsp; <br />&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp;&nbsp; }<br /><br /><u><b>2.&nbsp; Helpful naming conventions</b></u><br />One thing you'll be doing a lot is to create Strings to associate with elements, properties etc. Prefix your variables with the type will help you differentiate faster.<br />E.g.&nbsp; <br />public static final String elementTwitterButton = "twitter_button";&nbsp; // Twitter element<br />public static final String propertyTextSize = "font_size";&nbsp;&nbsp; // Property of element<br />public static final String frameSocial = "socialFrame" // Frame for social elements<br /><br /><u><b>3. Create a base class</b></u><br />As with any tests you write, gather all the common code such as login, getting window handles etc into your base class so that no code is duplicated in all tests.<br /><br />Login should only be tested by login tests but all other tests should try to reuse the browser that is already logged-in if you want faster performance in your test execution. Design your tests to clean up after each test whether tests pass or fail in your tear down method.<br /><br /><u><b>4. Some tips</b></u><br />On switching between frames<br />&nbsp;&nbsp; // switch to frame<br />&nbsp;&nbsp; driver.switchTo().frame(frameSocial)<br />&nbsp;&nbsp; // ... test in frame ...<br />&nbsp;&nbsp; // switch to main window<br />&nbsp;&nbsp; driver.switchTo(frameMain)<br /><br />On XPath - if all matching fails (no id/class/classname/linkText/name etc), don't get blocked - use XPath.<br />&nbsp;&nbsp;&nbsp; Use Firebug to see XPath of element.<br />&nbsp;&nbsp;&nbsp; To understand XPath : http://www.w3schools.com/xpath/xpath_examples.asp<br /><br /><u><b>5. Run tests in Hudson - headless or not</b></u><br />This is the best thing QA should spend time doing as this watches the build for you while you get to work on funner stuff.
